<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="./style.css">
    	<script
		src="https://code.jquery.com/jquery-3.4.1.js"
		integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
		crossorigin="anonymous"></script>
  </head>
  <body>
    <main>
      <div class="progress">
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="vaadin:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
      </div>
      <div class="centermiddleChoice5">
        <div class="grid-choiceI">
          <div class="chosenItem">
            <img src="assets/visual.jpg" alt="">
            <h2 style="font-size: 0.8rem;" id="choiceMade"> 
            <!-- HERE IT SHOULD SHOW THE CHOSEN H2 TITLEON PAGE 4 I/II -->
            </h2>
          </div>
       </div>
      <div id="intro5">
        <h1>Survey - part II</h1>  
        <h3>Questions based on the playlist chosen</h3>
        <p class="index2">Now that you have chosen the playlist displayed on top of the page, we would like to ask you a few questions to get more insights.</p>
        <!--<form id="myForm">-->
        <div class="questions">
          
          <table>
            <tr class="backtable">
              <th id="likert">Questions</th>
              <th>Strongly Disagree</th>
              <th>Disagree</th>
              <th>Neutral</th>
              <th>Agree</th>
              <th>Strongly Agree</th>
            </tr>
            <tr class="backtable-soft question">
              <td class="question-text p5q1">The playlist suggests that it contains songs that were chosen based on my personal taste.</td>
              <td><input type="radio" name="choiceI1" value="1"></td>
              <td><input type="radio" name="choiceI1" value="2"></td>
              <td><input type="radio" name="choiceI1" value="3"></td>
              <td><input type="radio" name="choiceI1" value="4"></td>
              <td><input type="radio" name="choiceI1" value="5"></td>
            </tr>
            <tr class="backtable question">
              <td class="question-text p5q2">The playlist implies that it contains songs that were chosen based on my listening history or preferences.</td>
              <td><input type="radio" name="choiceI2" value="1"></td>
              <td><input type="radio" name="choiceI2" value="2"></td>
              <td><input type="radio" name="choiceI2" value="3"></td>
              <td><input type="radio" name="choiceI2" value="4"></td>
              <td><input type="radio" name="choiceI2" value="5"></td>
            </tr>
            <tr class="backtable-soft question">
              <td class="question-text p5q3">This playlist probably contains songs that are based on my favorite genres and artists.</td>
              <td><input type="radio" name="choiceI3" value="1"></td>
              <td><input type="radio" name="choiceI3" value="2"></td>
              <td><input type="radio" name="choiceI3" value="3"></td>
              <td><input type="radio" name="choiceI3" value="4"></td>
              <td><input type="radio" name="choiceI3" value="5"></td>
            </tr>
            <tr class="backtable">
              <td class="question-text question p5q4">I chose this playlist based on how I currently feel.</td>
              <td><input type="radio" name="choiceI4" value="1"></td>
              <td><input type="radio" name="choiceI4" value="2"></td>
              <td><input type="radio" name="choiceI4" value="3"></td>
              <td><input type="radio" name="choiceI4" value="4"></td>
              <td><input type="radio" name="choiceI4" value="5"></td>
            </tr>
            <tr class="backtable-soft question">
              <td class="question-text p5q5">I am excited to listen to this playlist.</td>
              <td><input type="radio" name="choiceI5" value="1"></td>
              <td><input type="radio" name="choiceI5" value="2"></td>
              <td><input type="radio" name="choiceI5" value="3"></td>
              <td><input type="radio" name="choiceI5" value="4"></td>
              <td><input type="radio" name="choiceI5" value="5"></td>
            </tr>  
            <tr class="backtable question">
              <td class="question-text" p5q6>I expect this playlist to be tailored to my individual preferences rather than just a general selection of popular songs.</td>
              <td><input type="radio" name="choiceI6" value="1"></td>
              <td><input type="radio" name="choiceI6" value="2"></td>
              <td><input type="radio" name="choiceI6" value="3"></td>
              <td><input type="radio" name="choiceI6" value="4"></td>
              <td><input type="radio" name="choiceI6" value="5"></td>
            </tr>
          </table>
        </div>
        <!-- </form>-->
        <button onclick="PreSubForm(); fn2();">Continue</button>
    </div>

    </main>
    <script src="index.js"></script>
    <script>
              function fn2() {
            let selectedNumber = 0;
            const table = document.querySelector('table');
            const rows = document.querySelectorAll('.question');

            for (let i = 0; i < rows.length; i++) {
              const inputs = rows[i].querySelectorAll('input[type="radio"]');
              
              for (let j = 0; j < inputs.length; j++) {
                if (inputs[j].checked) {
                  selectedNumber++;
                  console.log(selectedNumber);
                }
              }
            }

            if (selectedNumber < (rows.length-1)) {
              alert("Please make sure all sections are filled in.");
              console.log(selectedNumber);
            } 

            if (selectedNumber === (rows.length-1)) {
              window.location.href = "index5AII-4I.html";
            } else {
              console.log("fail")
            }
            
          }

          function PreSubForm() {
          const inputChoiceI = document.querySelectorAll('input:checked');
          const values = [];

          inputChoiceI.forEach(input => {
            values.push(`${encodeURIComponent(input.name)}=${encodeURIComponent(input.value)}`);
          });

          const formData = values.join('&');

          sessionStorage.setItem('page5FormData', formData);
        }

            const storedTitle = localStorage.getItem('clickedTitleI');
            console.log(storedTitle); 

            function showTitle() {
              const presentTitle = document.getElementById("choiceMade");
              presentTitle.innerHTML = storedTitle;
            }
            showTitle();
          
    </script>
    <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>
  </body>
</html>