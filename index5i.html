<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Website</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <main>
      <div class="progress">
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="fa-solid:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="vaadin:dot-circle" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
        <hr>
        <iconify-icon icon="lucide:circle-dot" style="color: #1ad760;vertical-align: middle;" width="10"></iconify-icon>
      </div>
          <div class="centermiddleChoice">
            <div class="grid-choiceII">
              <div class="playlist-choice item1 firstChoice firstSystem">
                <img src="assets/visual.jpg" alt="">
                <h2 style="font-size: 0.8rem;" id="title1" class="title"></h2>
              </div>
              <div class="playlist-choice item2 firstChoice firstSystem">
                <img src="assets/visual.jpg" alt="">
                <h2 style="font-size: 0.8rem;" id="title2" class="title"></h2>
              </div>
              <div class="playlist-choice item3 firstChoice firstSystem">
                <img src="assets/visual.jpg" alt="">
                <h2 style="font-size: 0.8rem;"  id="title3" class="title"></h2>
              </div>
              <div class="playlist-choice item4 firstChoice firstSystem">
                <img src="assets/visual.jpg" alt="">
                <h2 style="font-size: 0.8rem;" id="title4" class="title"></h2>
              </div>
          </div>
      <div id="intro5">
        <h1>Survey - part II</h1>  
        <h3>Questions regarding the system</h3>
        <p class="index2">The playlists you were presented have been carefully put together by a system we developed. We are interested in your experience with this system and the playlists it presented to you.</p>
        <div class="questions">
          <table>
            <tr class="backtable">
              <th id="likert">Questions</th>
              <th>Strongly Disagree</th>
              <th>Disagree</th>
              <th>Neutral</th>
              <th>Agree</th>
              <th>Strongly Agree</th>
            </tr>
            <tr class="backtable-soft">
              <td class="question-text question">The system recommended playlists that were in line with my personal preferences.</td>
              <td><input type="radio" name="satisfactionI1" value="1"></td>
              <td><input type="radio" name="satisfactionI1" value="2"></td>
              <td><input type="radio" name="satisfactionI1" value="3"></td>
              <td><input type="radio" name="satisfactionI1" value="4"></td>
              <td><input type="radio" name="satisfactionI1" value="5"></td>
            </tr>
            <tr class="backtable question">
              <td class="question-text">I was satisfied with the quality of the selection of the playlists were presented to me.</td>
              <td><input type="radio" name="satisfactionI2" value="1"></td>
              <td><input type="radio" name="satisfactionI2" value="2"></td>
              <td><input type="radio" name="satisfactionI2" value="3"></td>
              <td><input type="radio" name="satisfactionI2" value="4"></td>
              <td><input type="radio" name="satisfactionI2" value="5"></td>
            </tr>
            <tr class="backtable-soft question">
              <td class="question-text">The playlists that were provided to me appeared to be unrelated to my musical preferences.</td>
              <td><input type="radio" name="satisfactionI3" value="1"></td>
              <td><input type="radio" name="satisfactionI3" value="2"></td>
              <td><input type="radio" name="satisfactionI3" value="3"></td>
              <td><input type="radio" name="satisfactionI3" value="4"></td>
              <td><input type="radio" name="satisfactionI3" value="5"></td>
            </tr>
            <tr class="backtable question">
              <td class="question-text">The playlists offered to me made me feel like the platform understands my music taste.</td>
              <td><input type="radio" name="satisfactionI4" value="1"></td>
              <td><input type="radio" name="satisfactionI4" value="2"></td>
              <td><input type="radio" name="satisfactionI4" value="3"></td>
              <td><input type="radio" name="satisfactionI4" value="4"></td>
              <td><input type="radio" name="satisfactionI4" value="5"></td>
            </tr>
            <tr class="backtable-soft question">
              <td class="question-text">To what degree the system provides me with playlists based on my preferences affects my satisfaction.</td>
              <td><input type="radio" name="satisfactionI5" value="1"></td>
              <td><input type="radio" name="satisfactionI5" value="2"></td>
              <td><input type="radio" name="satisfactionI5" value="3"></td>
              <td><input type="radio" name="satisfactionI5" value="4"></td>
              <td><input type="radio" name="satisfactionI5" value="5"></td>
            </tr>  
          </table>
        </div>
        <button onclick="fn2()">Continue</button>
    </div>
    </main>
        <script src="index.js"></script>
        <script >
          function fn2() {
        let selectedNumber = 0;
        const table = document.querySelector('table');
        const rows = document.querySelectorAll('.question');

        for (let i = 0; i < rows.length; i++) {
          const inputs = rows[i].querySelectorAll('input[type="radio"]');
          
          for (let j = 0; j < inputs.length; j++) {
            if (inputs[j].checked) {
              selectedNumber++;
              console.log(selectedNumber);
            }
          }
        }

        if (selectedNumber < (rows.length-1)) {
          alert("Please make sure all sections are filled in.");
          console.log(selectedNumber);
        } 
        function IIIorIV() {
              const randomNum = Math.random();
              if (randomNum < 0.5) {
                window.location.href = "index4III.html";
              } else {
                window.location.href = "index4IV.html";
              }
            };

        if (selectedNumber === (rows.length-1)) {
          // All questions have been answered;
          IIIorIV();
        } else {
          console.log("fail")
        }
      }
      

      //ERROR -- present in H2 elements the titles
      const selectedItemsPage4 = JSON.parse(localStorage.getItem('selectedItems'));


      if (localStorage.getItem('selectedItems') !== null) {
       const selectedItemsPage4 = JSON.parse(localStorage.getItem('selectedItems'));
}

      console.log(selectedItemsPage4);


        </script>
        <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>
  </body>
</html>